name: Check

on:
    push:
        branches: 
            - main
    pull_request: 
        branches: 
            - main

jobs:
    check:
        name: Lint
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v4
          - name: Cache Dependencies
            uses: actions/cache@v4
            with:
                path: node_modules
                key: ${{runner.os}}-node-${{ hashFiles('yarn.lock') }}
          - name: Install Dependencies
            run: yarn install
          - name: Generate Payload Types
            run: yarn generate:types
          - name: Run Next Build
            run: yarn build
          - name: Run ESLint
            run: yarn lint
